<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: AchClient::AchWorks::AchTransaction
  
    &mdash; Documentation by YARD 0.9.5
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "AchClient::AchWorks::AchTransaction";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../AchClient.html" title="AchClient (module)">AchClient</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../AchWorks.html" title="AchClient::AchWorks (class)">AchWorks</a></span></span>
     &raquo; 
    <span class="title">AchTransaction</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <iframe id="search_frame" src="../../class_list.html"></iframe>

      <div id="content"><h1>Class: AchClient::AchWorks::AchTransaction
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../Abstract/AchTransaction.html" title="AchClient::Abstract::AchTransaction (class)">AchClient::Abstract::AchTransaction</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../Abstract/AchTransaction.html" title="AchClient::Abstract::AchTransaction (class)">AchClient::Abstract::AchTransaction</a></span></li>
          
            <li class="next">AchClient::AchWorks::AchTransaction</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ach_client/ach_works/ach_transaction.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>AchWorks implementation for AchTransaction</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#ach_id-instance_method" title="#ach_id (instance method)">#<strong>ach_id</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute ach_id.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#arguments-class_method" title="arguments (class method)">.<strong>arguments</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#front_end_trace-instance_method" title="#front_end_trace (instance method)">#<strong>front_end_trace</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>AchWorks Ach needs a “FrontEndTrace”, for each ACH transaction.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_hash-instance_method" title="#to_hash (instance method)">#<strong>to_hash</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>AchWorks.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Abstract/AchTransaction.html" title="AchClient::Abstract::AchTransaction (class)">AchClient::Abstract::AchTransaction</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Abstract/AchTransaction.html#credit%3F-instance_method" title="AchClient::Abstract::AchTransaction#credit? (method)">#credit?</a></span>, <span class='object_link'><a href="../Abstract/AchTransaction.html#debit%3F-instance_method" title="AchClient::Abstract::AchTransaction#debit? (method)">#debit?</a></span>, <span class='object_link'><a href="../Abstract/AchTransaction.html#initialize-instance_method" title="AchClient::Abstract::AchTransaction#initialize (method)">#initialize</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="../Abstract/AchTransaction.html#initialize-instance_method" title="AchClient::Abstract::AchTransaction#initialize (method)">AchClient::Abstract::AchTransaction</a></span></p>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="ach_id-instance_method">
  
    #<strong>ach_id</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute ach_id</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


14
15
16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/ach_works/ach_transaction.rb', line 14</span>

<span class='kw'>def</span> <span class='id identifier rubyid_ach_id'>ach_id</span>
  <span class='ivar'>@ach_id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="arguments-class_method">
  
    .<strong>arguments</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>super</span>
      
      
        <span class='type'>(<tt>Array</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>args from parent class</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>ach_id</span>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>string to use as front_end_trace</p>
</div>
      
    </li>
  
</ul>


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/ach_works/ach_transaction.rb', line 10</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_arguments'>arguments</span>
  <span class='kw'>super</span> <span class='op'>+</span> <span class='lbracket'>[</span><span class='symbol'>:ach_id</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="front_end_trace-instance_method">
  
    #<strong>front_end_trace</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>AchWorks Ach needs a “FrontEndTrace”, for each ACH transaction. These can
be used to track the processing of the ACH after it has been submitted. You
can use the id of your Ach record It should be unique per ACH The consumer
is responsible for ensuring the uniqueness of this value</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the 12 char front end trace</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


54
55
56
57
58
59
60
61
62
63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/ach_works/ach_transaction.rb', line 54</span>

<span class='kw'>def</span> <span class='id identifier rubyid_front_end_trace'>front_end_trace</span>
  <span class='comment'># I want to stop this before it goes through because AchWorks might
</span>  <span class='comment'># just truncate the value, which could result in lost Achs.
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_ach_id'>ach_id</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span> <span class='op'>&gt;</span> <span class='int'>11</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>AchWorks requires a FrontEndTrace of 12 chars or less</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='comment'># The front end trace MUST NOT start with a W.
</span>    <span class='comment'># Our front end trace starts with a Z.
</span>    <span class='comment'># The letter Z is not the letter W.
</span>    <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Z</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ach_id'>ach_id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_hash-instance_method">
  
    #<strong>to_hash</strong>  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>AchWorks</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>turns this transaction into a hash that can be sent to</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/ach_works/ach_transaction.rb', line 19</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_hash'>to_hash</span>
  <span class='lbrace'>{</span>
    <span class='label'>SSS:</span> <span class='const'>AchClient</span><span class='op'>::</span><span class='const'>AchWorks</span><span class='period'>.</span><span class='id identifier rubyid_s_s_s'>s_s_s</span><span class='comma'>,</span>
    <span class='label'>LocID:</span> <span class='const'>AchClient</span><span class='op'>::</span><span class='const'>AchWorks</span><span class='period'>.</span><span class='id identifier rubyid_loc_i_d'>loc_i_d</span><span class='comma'>,</span>
    <span class='label'>FrontEndTrace:</span> <span class='id identifier rubyid_front_end_trace'>front_end_trace</span><span class='comma'>,</span>
    <span class='label'>CustomerName:</span> <span class='id identifier rubyid_merchant_name'>merchant_name</span><span class='comma'>,</span>
    <span class='label'>CustomerRoutingNo:</span> <span class='id identifier rubyid_routing_number'>routing_number</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
    <span class='label'>CustomerAcctNo:</span> <span class='id identifier rubyid_account_number'>account_number</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span>
    <span class='label'>OriginatorName:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>TBD</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>TransactionCode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>WEB</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='comment'># CHECK THIS
</span>    <span class='label'>CustTransType:</span>
      <span class='const'>AchClient</span><span class='op'>::</span><span class='const'>AchWorks</span><span class='op'>::</span><span class='const'>TransactionTypeTransformer</span><span class='period'>.</span><span class='id identifier rubyid_class_to_string'>class_to_string</span><span class='lparen'>(</span>
        <span class='id identifier rubyid_transaction_type'>transaction_type</span>
      <span class='rparen'>)</span><span class='comma'>,</span>
    <span class='label'>CustomerID:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>TBD</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
    <span class='label'>CustomerAcctType:</span>
      <span class='const'>AchClient</span><span class='op'>::</span><span class='const'>AchWorks</span><span class='op'>::</span><span class='const'>AccountTypeTransformer</span><span class='period'>.</span><span class='id identifier rubyid_class_to_string'>class_to_string</span><span class='lparen'>(</span>
        <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_account_type'>account_type</span>
      <span class='rparen'>)</span><span class='comma'>,</span>
    <span class='label'>TransAmount:</span> <span class='id identifier rubyid_amount'>amount</span><span class='comma'>,</span>
    <span class='label'>CheckOrTransDate:</span> <span class='const'>DateFormatter</span><span class='period'>.</span><span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='comment'># Does this need to be read from ACH record
</span>    <span class='label'>EffectiveDate:</span> <span class='const'>DateFormatter</span><span class='period'>.</span><span class='id identifier rubyid_format'>format</span><span class='lparen'>(</span><span class='const'>Date</span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='comment'># Should be same or greater than above (probably same)
</span>    <span class='label'>Memo:</span> <span class='id identifier rubyid_memo'>memo</span><span class='comma'>,</span>
    <span class='label'>OpCode:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>S</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='comment'># Check this
</span>    <span class='label'>AccountSet:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>1</span><span class='tstring_end'>&#39;</span></span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Fri Aug 19 09:13:04 2016 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.5 (ruby-2.3.1).
</div>

    </div>
  </body>
</html>