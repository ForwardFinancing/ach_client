<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: AchClient::AchWorks::AchBatch
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "AchClient::AchWorks::AchBatch";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../AchClient.html" title="AchClient (module)">AchClient</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../AchWorks.html" title="AchClient::AchWorks (class)">AchWorks</a></span></span>
     &raquo; 
    <span class="title">AchBatch</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: AchClient::AchWorks::AchBatch
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="../Abstract/AchBatch.html" title="AchClient::Abstract::AchBatch (class)">AchClient::Abstract::AchBatch</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="../Abstract/AchBatch.html" title="AchClient::Abstract::AchBatch (class)">AchClient::Abstract::AchBatch</a></span></li>
          
            <li class="next">AchClient::AchWorks::AchBatch</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ach_client/providers/soap/ach_works/ach_batch.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>AchWorks implementation for AchBatch</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#do_send_batch-instance_method" title="#do_send_batch (instance method)">#<strong>do_send_batch</strong>  &#x21d2; Array&lt;String&gt; </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Sends the batch to AchWorks using their SendACHTransBatch SOAP action If
the action is successful, will return the filename that AchWorks gives us.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_hash-instance_method" title="#to_hash (instance method)">#<strong>to_hash</strong>  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Converts this batch to a hash which can be sent to ACHWorks via Savon.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="../Abstract/AchBatch.html" title="AchClient::Abstract::AchBatch (class)">AchClient::Abstract::AchBatch</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Abstract/AchBatch.html#initialize-instance_method" title="AchClient::Abstract::AchBatch#initialize (method)">#initialize</a></span>, <span class='object_link'><a href="../Abstract/AchBatch.html#send_batch-instance_method" title="AchClient::Abstract::AchBatch#send_batch (method)">#send_batch</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <p class="notice">This class inherits a constructor from <span class='object_link'><a href="../Abstract/AchBatch.html#initialize-instance_method" title="AchClient::Abstract::AchBatch#initialize (method)">AchClient::Abstract::AchBatch</a></span></p>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="do_send_batch-instance_method">
  
    #<strong>do_send_batch</strong>  &#x21d2; <tt>Array&lt;String&gt;</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Sends the batch to AchWorks using their SendACHTransBatch SOAP action If
the action is successful, will return the filename that AchWorks gives us.
We can use that to track the batch processing later on. If it fails, an
exception will be thrown.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Array&lt;String&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>the external_ach_id&#39;s for each transaction</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13
14
15
16
17
18
19
20</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/providers/soap/ach_works/ach_batch.rb', line 13</span>

<span class='kw'>def</span> <span class='id identifier rubyid_do_send_batch'>do_send_batch</span>
  <span class='const'><span class='object_link'><a href="../../AchClient.html" title="AchClient (module)">AchClient</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../AchWorks.html" title="AchClient::AchWorks (class)">AchWorks</a></span></span><span class='period'>.</span><span class='id identifier rubyid_wrap_request'><span class='object_link'><a href="../AchWorks.html#wrap_request-class_method" title="AchClient::AchWorks.wrap_request (method)">wrap_request</a></span></span><span class='lparen'>(</span>
    <span class='label'>method:</span> <span class='symbol'>:send_ach_trans_batch</span><span class='comma'>,</span>
    <span class='label'>message:</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_to_hash'>to_hash</span><span class='comma'>,</span>
    <span class='label'>path:</span> <span class='lbracket'>[</span><span class='symbol'>:send_ach_trans_batch_response</span><span class='comma'>,</span> <span class='symbol'>:send_ach_trans_batch_result</span><span class='rbracket'>]</span>
  <span class='rparen'>)</span><span class='lbracket'>[</span><span class='symbol'>:file_name</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_external_ach_ids'>external_ach_ids</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_hash-instance_method">
  
    #<strong>to_hash</strong>  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Converts this batch to a hash which can be sent to ACHWorks via Savon</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>hash to send to AchWorks</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/providers/soap/ach_works/ach_batch.rb', line 24</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_hash'>to_hash</span>
  <span class='const'><span class='object_link'><a href="CompanyInfo.html" title="AchClient::AchWorks::CompanyInfo (class)">CompanyInfo</a></span></span><span class='period'>.</span><span class='id identifier rubyid_build'><span class='object_link'><a href="CompanyInfo.html#build-class_method" title="AchClient::AchWorks::CompanyInfo.build (method)">build</a></span></span><span class='period'>.</span><span class='id identifier rubyid_to_hash'><span class='object_link'><a href="CompanyInfo.html#to_hash-instance_method" title="AchClient::AchWorks::CompanyInfo#to_hash (method)">to_hash</a></span></span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span>
    <span class='lbrace'>{</span>
      <span class='label'>InpACHFile:</span><span class='lbrace'>{</span>
        <span class='label'>SSS:</span> <span class='const'><span class='object_link'><a href="../../AchClient.html" title="AchClient (module)">AchClient</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../AchWorks.html" title="AchClient::AchWorks (class)">AchWorks</a></span></span><span class='period'>.</span><span class='id identifier rubyid_s_s_s'><span class='object_link'><a href="../AchWorks.html#s_s_s-instance_method" title="AchClient::AchWorks#s_s_s (method)">s_s_s</a></span></span><span class='comma'>,</span>
        <span class='label'>LocID:</span> <span class='const'><span class='object_link'><a href="../../AchClient.html" title="AchClient (module)">AchClient</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../AchWorks.html" title="AchClient::AchWorks (class)">AchWorks</a></span></span><span class='period'>.</span><span class='id identifier rubyid_loc_i_d'><span class='object_link'><a href="../AchWorks.html#loc_i_d-instance_method" title="AchClient::AchWorks#loc_i_d (method)">loc_i_d</a></span></span><span class='comma'>,</span>
        <span class='label'>ACHFileName:</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='comment'># Docs say to leave this blank...
</span>        <span class='label'>TotalNumRecords:</span> <span class='id identifier rubyid_total_number_records'>total_number_records</span><span class='comma'>,</span>
        <span class='label'>TotalDebitRecords:</span> <span class='id identifier rubyid_total_debit_records'>total_debit_records</span><span class='comma'>,</span>
        <span class='label'>TotalDebitAmount:</span> <span class='id identifier rubyid_total_debit_amount'>total_debit_amount</span><span class='comma'>,</span>
        <span class='label'>TotalCreditRecords:</span> <span class='id identifier rubyid_total_credit_records'>total_credit_records</span><span class='comma'>,</span>
        <span class='label'>TotalCreditAmount:</span> <span class='id identifier rubyid_total_credit_amount'>total_credit_amount</span><span class='comma'>,</span>
        <span class='label'>ACHRecords:</span> <span class='lbrace'>{</span>
          <span class='label'>ACHTransRecord:</span> <span class='ivar'>@ach_transactions</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_hash</span><span class='rparen'>)</span>
        <span class='rbrace'>}</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Jan  2 09:53:21 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.5.0).
</div>

    </div>
  </body>
</html>