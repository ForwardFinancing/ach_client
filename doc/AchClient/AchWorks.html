<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: AchClient::AchWorks
  
    &mdash; Documentation by YARD 0.9.12
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "AchClient::AchWorks";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../AchClient.html" title="AchClient (module)">AchClient</a></span></span>
     &raquo; 
    <span class="title">AchWorks</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: AchClient::AchWorks
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">AchClient::AchWorks</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="SoapProvider.html" title="AchClient::SoapProvider (module)">SoapProvider</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/ach_client/providers/soap/ach_works/ach_works.rb<span class="defines">,<br />
  lib/ach_client/providers/soap/ach_works/ach_batch.rb,<br /> lib/ach_client/providers/soap/ach_works/company_info.rb,<br /> lib/ach_client/providers/soap/ach_works/date_formatter.rb,<br /> lib/ach_client/providers/soap/ach_works/ach_transaction.rb,<br /> lib/ach_client/providers/soap/ach_works/ach_status_checker.rb,<br /> lib/ach_client/providers/soap/ach_works/account_type_transformer.rb,<br /> lib/ach_client/providers/soap/ach_works/response_record_processor.rb,<br /> lib/ach_client/providers/soap/ach_works/correction_details_processor.rb,<br /> lib/ach_client/providers/soap/ach_works/transaction_type_transformer.rb</span>
</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Namespace class for all things AchWorks Contains class attributes with
various initialization settings</p>


  </div>
</div>
<div class="tags">
  

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="AchWorks/AccountTypeTransformer.html" title="AchClient::AchWorks::AccountTypeTransformer (class)">AccountTypeTransformer</a></span>, <span class='object_link'><a href="AchWorks/AchBatch.html" title="AchClient::AchWorks::AchBatch (class)">AchBatch</a></span>, <span class='object_link'><a href="AchWorks/AchStatusChecker.html" title="AchClient::AchWorks::AchStatusChecker (class)">AchStatusChecker</a></span>, <span class='object_link'><a href="AchWorks/AchTransaction.html" title="AchClient::AchWorks::AchTransaction (class)">AchTransaction</a></span>, <span class='object_link'><a href="AchWorks/CompanyInfo.html" title="AchClient::AchWorks::CompanyInfo (class)">CompanyInfo</a></span>, <span class='object_link'><a href="AchWorks/CorrectionDetailsProcessor.html" title="AchClient::AchWorks::CorrectionDetailsProcessor (class)">CorrectionDetailsProcessor</a></span>, <span class='object_link'><a href="AchWorks/DateFormatter.html" title="AchClient::AchWorks::DateFormatter (class)">DateFormatter</a></span>, <span class='object_link'><a href="AchWorks/ResponseRecordProcessor.html" title="AchClient::AchWorks::ResponseRecordProcessor (class)">ResponseRecordProcessor</a></span>, <span class='object_link'><a href="AchWorks/TransactionTypeTransformer.html" title="AchClient::AchWorks::TransactionTypeTransformer (class)">TransactionTypeTransformer</a></span>
    
  
</p>







  
    <h2>
      Class Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#wrap_request-class_method" title="wrap_request (class method)">.<strong>wrap_request</strong>(method:, message:, path:)  &#x21d2; Hash </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Handles making request to AchWorks.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#company-instance_method" title="#company (instance method)">#<strong>company</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Your user id string, used as a username.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#company_key-instance_method" title="#company_key (instance method)">#<strong>company_key</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A key that they give you used as a password.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#loc_i_d-instance_method" title="#loc_i_d (instance method)">#<strong>loc_i_d</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Another Arbitrary 4 letter code AchWorks gives youâ€¦</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#s_s_s-instance_method" title="#s_s_s (instance method)">#<strong>s_s_s</strong>  &#x21d2; String </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Arbitrary 3 letter code AchWorks gives your company.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  

  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="wrap_request-class_method">
  
    .<strong>wrap_request</strong>(method:, message:, path:)  &#x21d2; <tt>Hash</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Handles making request to AchWorks. If the request was successful, returns
the response If it is unsuccessful, tries to find the error message and
raises it in an exception status field) within the response hash. For
example, if you have a burrito but only care about the guacomole, the path
to the hash with the guac would be: [:aluminum_foil, :tortilla] the
response was successful.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>method</span>
      
      
        <span class='type'>(<tt>Symbol</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>SOAP operation to call against AchWorks</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>message</span>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The request body</p>
</div>
      
    </li>
  
    <li>
      
        <span class='name'>path</span>
      
      
        <span class='type'>(<tt>Array&lt;Symbol&gt;</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Path to the attributes we care about (and the</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Hash</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>The hash the input path led to within the response hash, if</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/providers/soap/ach_works/ach_works.rb', line 36</span>

<span class='kw'>def</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_wrap_request'>wrap_request</span><span class='lparen'>(</span><span class='label'>method:</span><span class='comma'>,</span> <span class='label'>message:</span><span class='comma'>,</span> <span class='label'>path:</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_request'>request</span><span class='lparen'>(</span><span class='label'>method:</span> <span class='id identifier rubyid_method'>method</span><span class='comma'>,</span> <span class='label'>message:</span> <span class='id identifier rubyid_message'>message</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_success?'>success?</span>
    <span class='id identifier rubyid_response'>response</span> <span class='op'>=</span> <span class='id identifier rubyid_path'>path</span><span class='period'>.</span><span class='id identifier rubyid_reduce'>reduce</span><span class='lparen'>(</span><span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_body'>body</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='comma'>,</span> <span class='id identifier rubyid_node'>node</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span><span class='lbracket'>[</span><span class='id identifier rubyid_node'>node</span><span class='rbracket'>]</span> <span class='rbrace'>}</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:status</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SUCCESS</span><span class='tstring_end'>&#39;</span></span>
      <span class='comment'># It worked! Return the response hash
</span>      <span class='id identifier rubyid_response'>response</span>
    <span class='kw'>else</span>
      <span class='comment'># AchWorks likes to keep things interesting by sometimes putting
</span>      <span class='comment'># the error messages in the details field instead of errors.
</span>      <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid_response'>response</span><span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:[]</span><span class='comma'>,</span> <span class='symbol'>:errors</span><span class='rparen'>)</span>
                    <span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:[]</span><span class='comma'>,</span> <span class='symbol'>:string</span><span class='rparen'>)</span>
                    <span class='period'>.</span><span class='id identifier rubyid_try'>try</span><span class='lparen'>(</span><span class='symbol'>:join</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>, </span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>||</span>
            <span class='id identifier rubyid_response'>response</span><span class='lbracket'>[</span><span class='symbol'>:details</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='comment'># This would normally raise an exception on its own, but just in case
</span>    <span class='id identifier rubyid_raise'>raise</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_method'>method</span><span class='embexpr_end'>}</span><span class='tstring_content'> failed due to unknown SOAP fault</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="company-instance_method">
  
    #<strong>company</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Your user id string, used as a username</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Your user id string, used as a username</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


16</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/providers/soap/ach_works/ach_works.rb', line 16</span>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbol'>:company</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="company_key-instance_method">
  
    #<strong>company_key</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns A key that they give you used as a password</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>A key that they give you used as a password</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


13</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/providers/soap/ach_works/ach_works.rb', line 13</span>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbol'>:company_key</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="loc_i_d-instance_method">
  
    #<strong>loc_i_d</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Another Arbitrary 4 letter code AchWorks gives youâ€¦</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Another Arbitrary 4 letter code AchWorks gives youâ€¦</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/providers/soap/ach_works/ach_works.rb', line 19</span>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbol'>:loc_i_d</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="s_s_s-instance_method">
  
    #<strong>s_s_s</strong>  &#x21d2; <tt>String</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns Arbitrary 3 letter code AchWorks gives your company</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>String</tt>)</span>
      
      
      
        &mdash;
        <div class='inline'>
<p>Arbitrary 3 letter code AchWorks gives your company</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


22</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/ach_client/providers/soap/ach_works/ach_works.rb', line 22</span>

<span class='id identifier rubyid_class_attribute'>class_attribute</span> <span class='symbol'>:s_s_s</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Jan  2 09:53:21 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.12 (ruby-2.5.0).
</div>

    </div>
  </body>
</html>